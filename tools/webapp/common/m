#!/bin/bash

rm -f *.gz

# megjegyes: webapp.js.gz, webapp.css.gz 
# Ezek a gz fajlok automatikusan letrejonnek,
# es amig leteznek, a szerver mindig azokat kuldi,
# tehat a valtozasok ervenyre jutasahoz torolni kell.

rm -f webapp.js
touch webapp.js

cat   webapp-core.js         >>webapp.js
cat   webapp-websocket.js    >>webapp.js
cat   webapp-formdata.js     >>webapp.js
cat   webapp-private.js      >>webapp.js
cat   webapp-xlib.js         >>webapp.js
cat   webapp-util.js         >>webapp.js
cat   webapp-alert.js        >>webapp.js
cat   webapp-inp_date.js     >>webapp.js
cat   webapp-inp_number.js   >>webapp.js
cat   webapp-inp_picture.js  >>webapp.js
cat   webapp-inp_regex.js    >>webapp.js
cat   webapp-compat.js       >>webapp.js
cat   webapp-md5.js          >>webapp.js
cat   webapp-password.js     >>webapp.js


##lessc webapp.less          >webapp.css

for COLORS in colors-*.less; do
    cp $COLORS colors.less
    COLORS=$(echo $COLORS | sed s^colors-^^ )
    COLORS=$(echo $COLORS | sed s^.less^^ )

    lessc webapp.less >webapp-$COLORS.css
done
cp webapp-slateblue.css  webapp.css  #ez a default
rm colors.less



if false; then
    minify --no-comments webapp.js
    minify --no-comments webapp.css

    mv webapp.min.js  webapp.js 
    mv webapp.min.css webapp.css 
fi

